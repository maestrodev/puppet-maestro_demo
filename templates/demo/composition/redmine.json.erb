{
    "compositions": [
        {
            "agent_facts": {},
            "composition_tasks": [
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T15:39:34-04:00",
                    "id": 4,
                    "name": "svn checkout",
                    "options": {
                        "clean_working_copy": {
                            "required": false,
                            "type": "Boolean",
                            "value": false
                        },
                        "options": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine"
                        },
                        "url": {
                            "required": true,
                            "type": "Url",
                            "value": "http://redmine.rubyforge.org/svn/tags/1.2.0/"
                        },
                        "force_build": {
                            "description": "Build If No Update Is Found",
                            "required": false,
                            "type": "Boolean",
                            "value": false
                        }
                    },
                    "position": 1,
                    "source": null,
                    "task_id": 5,
                    "updated_at": "2012-02-09T00:06:01-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T15:41:02-04:00",
                    "id": 5,
                    "name": "shell execute",
                    "options": {
                        "command_string": {
                            "required": true,
                            "type": "String",
                            "value": "cp <%= @working_copy_dir %>/redmine/config/database.yml.example <%= @working_copy_dir %>/redmine/config/database.yml"
                        },
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        }
                    },
                    "position": 2,
                    "source": null,
                    "task_id": 30,
                    "updated_at": "2012-02-09T00:06:01-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T16:17:10-04:00",
                    "id": 8,
                    "name": "shell execute",
                    "options": {
                        "command_string": {
                            "required": true,
                            "type": "String",
                            "value": "sed -i -e \"s@password:@password: foobar99@\" <%= @working_copy_dir %>/redmine/config/database.yml"
                        },
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        }
                    },
                    "position": 3,
                    "source": null,
                    "task_id": 30,
                    "updated_at": "2012-02-09T00:06:01-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T12:38:19-04:00",
                    "id": 1,
                    "name": "rake",
                    "options": {
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": "CC=/usr/bin/gcc"
                        },
                        "gems": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "i18n -v=0.4.2",
                                "mysql",
                                "rails -v=2.3.11"
                            ]
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine"
                        },
                        "ruby_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.8.7-p371"
                        },
                        "rubygems_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.6.1"
                        },
                        "tasks": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "gems:install RAILS_ENV=test"
                            ]
                        },
                        "use_bundle": {
                            "required": true,
                            "type": "Boolean",
                            "value": "false"
                        },
                        "use_rvm": {
                            "required": true,
                            "type": "Boolean",
                            "value": "true"
                        }
                    },
                    "position": 4,
                    "source": null,
                    "task_id": 28,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T15:22:41-04:00",
                    "id": 3,
                    "name": "rake",
                    "options": {
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": "CC=/usr/bin/gcc"
                        },
                        "gems": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "mysql"
                            ]
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine"
                        },
                        "ruby_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.8.7-p371"
                        },
                        "rubygems_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.6.1"
                        },
                        "tasks": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "RAILS_ENV=test db:create db:migrate"
                            ]
                        },
                        "use_bundle": {
                            "required": true,
                            "type": "Boolean",
                            "value": "false"
                        },
                        "use_rvm": {
                            "required": true,
                            "type": "Boolean",
                            "value": "true"
                        }
                    },
                    "position": 5,
                    "source": null,
                    "task_id": 28,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T14:43:13-04:00",
                    "id": 2,
                    "name": "rake",
                    "options": {
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": "CC=/usr/bin/gcc"
                        },
                        "gems": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "mysql"
                            ]
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine"
                        },
                        "ruby_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.8.7-p371"
                        },
                        "rubygems_version": {
                            "required": false,
                            "type": "String",
                            "value": "1.6.1"
                        },
                        "tasks": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "--version"
                            ]
                        },
                        "use_bundle": {
                            "required": true,
                            "type": "Boolean",
                            "value": "false"
                        },
                        "use_rvm": {
                            "required": true,
                            "type": "Boolean",
                            "value": "true"
                        }
                    },
                    "position": 6,
                    "source": null,
                    "task_id": 28,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T15:54:55-04:00",
                    "id": 6,
                    "name": "zip",
                    "options": {
                        "destination": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>"
                        },
                        "filename": {
                            "required": true,
                            "type": "String",
                            "value": "redmine"
                        },
                        "path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine"
                        },
                        "type": {
                            "required": true,
                            "type": "String",
                            "value": "zip"
                        }
                    },
                    "position": 7,
                    "source": null,
                    "task_id": 15,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2012-02-08T17:32:24-05:00",
                    "id": 148,
                    "name": "AWS provision",
                    "options": {
                        "availability_zone": {
                            "required": false,
                            "type": "String",
                            "value": "us-east-1a"
                        },
                        "region": {
                            "required": false,
                            "type": "String",
                            "value": "us-east-1"
                        },
                        "flavor_id": {
                            "required": true,
                            "type": "String",
                            "value": "t1.micro"
                        },
                        "groups": {
                            "required": false, 
                            "type": "Array", 
                            "value": [ "quick-start-1" ]
                        }, 
                        "name": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "image_id": {
                            "required": true,
                            "type": "String",
                            "value": "ami-036da16a"
                        },
                        "secret_access_key": {
                            "required": true,
                            "type": "Password",
                            "value": "mysecretkey"
                        },
                        "access_key_id": {
                            "required": true,
                            "type": "String",
                            "value": "mykeyid"
                        },
                        "key_name": {
                            "required": false,
                            "type": "String",
                            "value": "lucee-demo-keypair"
                        },
                        "private_key": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "private_key_path": {
                            "required": false,
                            "type": "String",
                            "value": "<%= @demo_keypair %>"
                        },
                        "ssh_commands": {
                            "required": false,
                            "type": "Array",
                            "value": [
                                "ls"
                            ]
                        },
                        "ssh_user": {
                            "required": false,
                            "type": "String",
                            "value": "root"
                        },
                        "ssh_password": {
                            "required": false,
                            "type": "Password",
                            "value": ""
                        },
                        "timeout": {
                            "required": false, 
                            "type": "Integer", 
                            "value": 600
                        }, 
                        "number_of_vms": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 1
                        }, 
                        "user_data": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        }
                    },
                    "position": 8,
                    "sources": [
                        {
                            "name": "AWS Account"
                        }
                    ], 
                    "task_id": 18,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T16:28:17-04:00",
                    "id": 9,
                    "name": "scp upload",
                    "options": {
                        "host": {
                            "required": true,
                            "type": "String",
                            "value": "#{fields[:instance_dns]}"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @demo_keypair %>"
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @working_copy_dir %>/redmine.zip"
                        },
                        "remote_path": {
                            "required": true,
                            "type": "String",
                            "value": "/tmp"
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": "root"
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "position": 9,
                    "source": null,
                    "task_id": 25,
                    "updated_at": "2012-02-09T00:06:01-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T16:43:41-04:00",
                    "id": 12,
                    "name": "ssh execute (agent)",
                    "options": {
                        "commands": {
                            "required": true,
                            "type": "Array",
                            "value": [
                                "unzip -o /tmp/redmine.zip"
                            ]
                        },
                        "host": {
                            "required": false,
                            "type": "String",
                            "value": "#{fields[:instance_dns]}"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @demo_keypair %>"
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": "root"
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "position": 10,
                    "source": null,
                    "task_id": 23,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T17:06:04-04:00",
                    "id": 13,
                    "name": "ssh execute (agent)",
                    "options": {
                        "commands": {
                            "required": true,
                            "type": "Array",
                            "value": [
                                "cd redmine && rake generate_session_store",
                                "cd redmine && RAILS_ENV=production rake db:create db:migrate",
                                "cd redmine && RAILS_ENV=production rake redmine:load_default_data REDMINE_LANG=en"
                            ]
                        },
                        "host": {
                            "required": false,
                            "type": "String",
                            "value": "#{fields[:instance_dns]}"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @demo_keypair %>"
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": "root"
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "position": 11,
                    "source": null,
                    "task_id": 23,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T23:48:23-04:00",
                    "id": 14,
                    "name": "ssh execute (agent)",
                    "options": {
                        "commands": {
                            "required": true,
                            "type": "Array",
                            "value": [
                                "chown -R apache:apache redmine",
                                "mv redmine /var/www/html"
                            ]
                        },
                        "host": {
                            "required": false,
                            "type": "String",
                            "value": "#{fields[:instance_dns]}"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": "<%= @demo_keypair %>"
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": "root"
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "position": 12,
                    "source": null,
                    "task_id": 23,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T16:30:27-04:00",
                    "id": 10,
                    "name": "confirmation",
                    "options": {
                        "body": {
                            "required": true,
                            "type": "String",
                            "value": "Validation complete?"
                        },
                        "fail_on_cancel": {
                            "required": false,
                            "type": "Boolean",
                            "value": false
                        }
                    },
                    "position": 14,
                    "source": null,
                    "task_id": 7,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                },
                {
                    "composition_id": 1,
                    "created_at": "2011-10-14T16:31:01-04:00",
                    "id": 11,
                    "name": "AWS deprovision",
                    "options": {
                        "secret_access_key": {
                            "required": false, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "access_key_id": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "region": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "instance_ids": {
                            "required": false, 
                            "type": "Array", 
                            "value": [
                            ]
                        }
                    },
                    "position": 16,
                    "sources": [
                        {
                            "name": "AWS Account"
                        }
                    ], 
                    "task_id": 19,
                    "updated_at": "2012-02-09T00:06:00-05:00"
                }
            ],
            "created_at": "2011-10-10T17:51:26-04:00",
            "description": "Redmine",
            "fail_type": "fast",
            "fail_type_id": 1,
            "id": 1,
            "name": "Redmine",
            "on_error_composition": null,
            "on_error_id": null,
            "reuse_agent": true,
            "schedule": "",
            "sources": [],
            "state": null,
            "tasks": [
                {
                    "code": null,
                    "command": "/svn/checkout",
                    "created_at": "2011-08-04T18:31:28-04:00",
                    "dependencies": null,
                    "description": "Checkout A Subversion Repository<br>[path] Local Path For Checkout<br>[url] Remote Repository Url",
                    "id": 5,
                    "klass": null,
                    "language": null,
                    "name": "svn checkout",
                    "options": {
                        "clean_working_copy": {
                            "required": false,
                            "type": "Boolean",
                            "value": false
                        },
                        "options": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "url": {
                            "required": true,
                            "type": "Url",
                            "value": ""
                        },
                        "force_build": {
                            "description": "Build If No Update Is Found",
                            "required": false,
                            "type": "Boolean",
                            "value": false
                        }
                    },
                    "pom": null,
                    "position": 1,
                    "tool_name": "SCM",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:28-05:00"
                },
                {
                    "code": null,
                    "command": "/confirmation/work",
                    "created_at": "2011-08-04T18:31:28-04:00",
                    "dependencies": null,
                    "description": "Allows User Confirmation Before Continuing, A Notification Will Be Displayed Below. Confirming Will Allow The Composition To Continue, Rejecting Will Cancel The Composition<br>[body] The String To Be Displayed In The Action Pane",
                    "id": 7,
                    "klass": null,
                    "language": null,
                    "name": "confirmation",
                    "options": {
                        "body": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        }
                    },
                    "pom": null,
                    "position": 1,
                    "tool_name": "Actions",
                    "type": "confirmation",
                    "updated_at": "2012-02-07T00:29:28-05:00"
                },
                {
                    "code": null,
                    "command": "/archive/archive",
                    "created_at": "2011-08-22T10:30:13-04:00",
                    "dependencies": null,
                    "description": "Create a zip of files and directories",
                    "id": 15,
                    "klass": null,
                    "language": null,
                    "name": "zip",
                    "options": {
                        "destination": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "filename": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "type": {
                            "required": true,
                            "type": "String",
                            "value": "zip"
                        }
                    },
                    "pom": null,
                    "position": 5,
                    "tool_name": "Package",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:29-05:00"
                },
                {
                    "code": null,
                    "command": "/ssh/execute",
                    "created_at": "2011-08-04T18:31:29-04:00",
                    "dependencies": null,
                    "description": "Run A Shell Command From The Agent <br>[host] Hostname Of The Server To Run Remote Commands <br>[user] User To Run Commands <br>[key_path] Key Used For Authentication <br>[key_type] Type Of Key Encryption <br>[commands] Set Of Shell Commands ",
                    "id": 23,
                    "klass": null,
                    "language": null,
                    "name": "ssh execute (agent)",
                    "options": {
                        "commands": {
                            "required": true,
                            "type": "Array",
                            "value": ""
                        },
                        "host": {
                            "required": false,
                            "type": "String",
                            "value": "localhost"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "pom": null,
                    "position": 1,
                    "tool_name": "Shell",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:31-05:00"
                },
                {
                    "code": null,
                    "command": "/scp/upload",
                    "created_at": "2011-08-04T18:31:29-04:00",
                    "dependencies": null,
                    "description": "Upload A File To A Remote Server From The Agent <br>[host] Hostname Of The Target Server To Run Remote Commands <br>[user] User To Run Commands <br>[key_path] Key Used For Authentication <br>[key_type] Type Of Key Encryption <br>[path] Local Path To Files <br>[remote_path] Remote Location To Copy Files ",
                    "id": 25,
                    "klass": null,
                    "language": null,
                    "name": "scp upload",
                    "options": {
                        "host": {
                            "required": true,
                            "type": "String",
                            "value": "localhost"
                        },
                        "key_path": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "port": {
                            "description": "Port Of The Server To Run Remote Commands",
                            "required": false,
                            "type": "Integer",
                            "value": null
                        },
                        "key_type": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "remote_path": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "user": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "password": {
                            "description": "Password To Use For Login To Remote",
                            "required": false,
                            "type": "Password",
                            "value": ""
                        }
                    },
                    "pom": null,
                    "position": 1,
                    "tool_name": "Shell",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:31-05:00"
                },
                {
                    "code": null,
                    "command": "/rake/execute",
                    "created_at": "2011-10-14T18:31:29-04:00",
                    "dependencies": null,
                    "description": "Run A Rake Task Using RVM and Bundler",
                    "id": 28,
                    "klass": null,
                    "language": null,
                    "name": "rake",
                    "options": {
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "gems": {
                            "required": false,
                            "type": "Array",
                            "value": ""
                        },
                        "path": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "ruby_version": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "rubygems_version": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        },
                        "tasks": {
                            "required": false,
                            "type": "Array",
                            "value": ""
                        },
                        "use_bundle": {
                            "required": true,
                            "type": "Boolean",
                            "value": "false"
                        },
                        "use_rvm": {
                            "required": true,
                            "type": "Boolean",
                            "value": "false"
                        }
                    },
                    "pom": null,
                    "position": 1,
                    "tool_name": "Shell",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:31-05:00"
                },
                {
                    "code": null,
                    "command": "/shell/execute",
                    "created_at": "2011-08-22T18:57:59-04:00",
                    "dependencies": null,
                    "description": "Execute A Shell Command Locally <br>[command_string] String Of Shell Commands ",
                    "id": 30,
                    "klass": null,
                    "language": null,
                    "name": "shell execute",
                    "options": {
                        "command_string": {
                            "required": true,
                            "type": "String",
                            "value": ""
                        },
                        "environment": {
                            "required": false,
                            "type": "String",
                            "value": ""
                        }
                    },
                    "pom": null,
                    "position": 5,
                    "tool_name": "Shell",
                    "type": "remote",
                    "updated_at": "2012-02-07T00:29:32-05:00"
                }
            ],
            "updated_at": "2012-02-07T00:29:32-05:00"
        }
    ],
    "created_at": "2011-09-15T18:26:06-04:00",
    "description": "Redmine is a flexible project management web application. Written using Ruby on Rails framework, it is cross-platform and cross-database.",
    "home_url": "http://www.redmine.org/",
    "id": 1,
    "name": "Redmine",
    "scm_url": "http://redmine.rubyforge.org/svn/",
    "updated_at": "2012-02-07T00:29:32-05:00"
}
