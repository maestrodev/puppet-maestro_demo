{
    "compositions": [
        {
            "agent_facts": {}, 
            "composition_tasks": [
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-04T15:40:25+00:00", 
                    "id": 96, 
                    "is_from_parent": false, 
                    "name": "jenkins plugin", 
                    "options": {
                        "host": {
                            "required": true, 
                            "type": "String", 
                            "value": "localhost"
                        }, 
                        "job": {
                            "required": true, 
                            "type": "String", 
                            "value": "Centrepoint"
                        }, 
                        "label_axes": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "override_existing": {
                            "required": true, 
                            "type": "Boolean", 
                            "value": true
                        }, 
                        "password": {
                            "required": false, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "port": {
                            "required": false, 
                            "type": "Integer", 
                            "value": 8181
                        }, 
                        "scm_url": {
                            "required": false, 
                            "type": "Url", 
                            "value": "https://github.com/maestrodev/centrepoint.git"
                        }, 
                        "steps": {
                            "required": false, 
                            "type": "Array", 
                            "value": [
                                "mvn clean -U --batch-mode", 
                                "mvn deploy -U --batch-mode -DrepositoryId=maestro-deploy -Durl=http://localhost:8082/archiva/repository/all -DaltDeploymentRepository=maestro-deploy::default::http://localhost:8082/archiva/repository/snapshots -Dproject.repository.url=http://localhost:8082/archiva/repository/snapshots/"
                            ]
                        }, 
                        "use_ssl": {
                            "required": true, 
                            "type": "Boolean", 
                            "value": false
                        }, 
                        "user_defined_axes": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "username": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "web_path": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }
                    }, 
                    "position": 1,
                    "sources": [ { "name": "jenkins" } ],
                    "task_id": 4, 
                    "updated_at": "2012-10-04T15:40:25+00:00"
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 50, 
                    "is_from_parent": true, 
                    "name": "wget latest snapshot", 
                    "options": {
                        "packaging": {
                            "description": "Artifact Packaging Type ", 
                            "required": true, 
                            "type": "String", 
                            "value": "war"
                        }, 
                        "password": {
                            "description": "User Password For Authentication ", 
                            "required": true, 
                            "type": "Password", 
                            "value": "admin1"
                        }, 
                        "path": {
                            "description": "Local Location For File Download ", 
                            "required": true, 
                            "type": "String", 
                            "value": "/tmp"
                        }, 
                        "url": {
                            "description": "Remote Repository Location Of The Project Containing The Artifact", 
                            "required": true, 
                            "type": "Url", 
                            "value": "http://localhost:8082/archiva/repository/snapshots/com/effectivemaven/centrepoint/webapp/1.0-SNAPSHOT/"
                        }, 
                        "username": {
                            "description": "Repository User", 
                            "required": true, 
                            "type": "String", 
                            "value": "admin"
                        }
                    }, 
                    "position": 2, 
                    "sources": [
                        {
                            "name": "Archiva"
                        }
                    ], 
                    "task_id": 31, 
                    "updated_at": "2012-10-04T15:40:24+00:00" 
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 51, 
                    "is_from_parent": true, 
                    "name": "rackspace provision", 
                    "options": {
                        "api_key": {
                            "required": true, 
                            "type": "Password", 
                            "value": "asdfg"
                        }, 
                        "version": {
                          "description": "API version to use: v1 or v2 for Open Cloud Servers",
                          "required": false,
                          "type": "String",
                          "value": "v1"
                        },
                        "auth_url": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "flavor_id": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 1
                        }, 
                        "image_id": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 24524591
                        }, 
                        "name": {
                            "required": false, 
                            "type": "String", 
                            "value": "tomcat"
                        }, 
                        "number_of_vms": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 1
                        }, 
                        "private_key": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "private_key_path": {
                            "required": false, 
                            "type": "String", 
                            "value": "/var/local/maestro-agent/.ssh/id_rsa"
                        }, 
                        "public_key": {
                            "required": false, 
                            "type": "String", 
                            "value": "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA5ATrF7DUayDgPLGeBXredlOkxXzmPU4OmpD9Ui9VGdQ9EA+3VEeovhhxnqdOgeVy3eDWcCKcuAHemvpX8JGxzqXGgXKe6l7rmYlVjq6E2IFUyqCDoTS/WQ7mnid+QFhA99/ScXlQGaAtCuBQb6ksto9iQe2oSpjhZaN0UZ4QcOKLnoaYJMQwk3kDgOnypECY/7pNKjZkHmH4H5XBc8LRe+KiXoCDOs2wxcPt7mr07CLo2V+1efxuG3vnrRLpf/q1Hsi9piotQrtAV7p1f5pOiHt5oYnKBk0XzZBMopcxLIRpsf1dWf77SeZgE6vBAYLwh5JQtkn9FdArtlhGlb70/w=="
                        }, 
                        "ssh_commands": {
                            "required": false, 
                            "type": "Array", 
                            "value": [
                                "hostname"
                            ]
                        }, 
                        "ssh_user": {
                            "required": false, 
                            "type": "String", 
                            "value": "root"
                        }, 
                        "username": {
                            "required": true, 
                            "type": "String", 
                            "value": "rackspace2"
                        }
                    }, 
                    "position": 3, 
                    "sources": [
                        {
                            "name": "rackspace development"
                        }
                    ], 
                    "task_id": 7, 
                    "updated_at": "2012-10-04T16:04:57+00:00" 
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 52, 
                    "is_from_parent": true, 
                    "name": "HTTP ping", 
                    "options": {
                        "host": {
                            "description": "Hostname Of The Webserver ", 
                            "required": false, 
                            "type": "String", 
                            "value": "#{fields[:rackspace_ips].first}"
                        }, 
                        "open_timeout": {
                            "description": "Time To Wait For Connection Openning", 
                            "required": false, 
                            "type": "Integer", 
                            "value": 60
                        }, 
                        "ping_password": {
                            "description": "Password For Application User ", 
                            "required": false, 
                            "type": "Password", 
                            "value": "maestro"
                        }, 
                        "ping_user": {
                            "description": "Username For Application Server ", 
                            "required": false, 
                            "type": "String", 
                            "value": "maestro"
                        }, 
                        "port": {
                            "description": "Port Webserver Is Bound To ", 
                            "required": true, 
                            "type": "Integer", 
                            "value": 8080
                        }, 
                        "timeout": {
                            "description": "Time To Wait For Connection Response ", 
                            "required": false, 
                            "type": "Integer", 
                            "value": 60
                        }, 
                        "web_path": {
                            "description": "Context Path On The Webserver ", 
                            "required": true, 
                            "type": "String", 
                            "value": "/manager/html"
                        }
                    }, 
                    "position": 4, 
                    "sources": [], 
                    "task_id": 40, 
                    "updated_at": "2012-10-04T15:40:25+00:00" 
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 53, 
                    "is_from_parent": true, 
                    "name": "tomcat deploy", 
                    "options": {
                        "host": {
                            "description": "Hostname Of The Server Running Tomcat", 
                            "required": true, 
                            "type": "String", 
                            "value": "#{fields[:rackspace_ips].first}"
                        }, 
                        "password": {
                            "description": "Tomcat Manager Password ", 
                            "required": true, 
                            "type": "Password", 
                            "value": "maestro"
                        }, 
                        "path": {
                            "description": "Location Of The WAR File ", 
                            "required": true, 
                            "type": "String", 
                            "value": "/tmp/webapp.war"
                        }, 
                        "port": {
                            "description": "Port Tomcat Is Bound To", 
                            "required": true, 
                            "type": "Integer", 
                            "value": 8080
                        }, 
                        "user": {
                            "description": "Tomcat User ", 
                            "required": true, 
                            "type": "String", 
                            "value": "maestro"
                        }, 
                        "web_path": {
                            "description": "Context Path Of The Manager Application ", 
                            "required": true, 
                            "type": "String", 
                            "value": "/centrepoint"
                        }
                    }, 
                    "position": 5, 
                    "sources": [], 
                    "task_id": 32, 
                    "updated_at": "2012-10-04T15:40:25+00:00" 
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 54, 
                    "is_from_parent": true, 
                    "name": "confirmation", 
                    "options": {
                        "body": {
                            "description": "The String To Be Displayed In The Action Pane", 
                            "required": true, 
                            "type": "String", 
                            "value": "Please Run QA Test On http://#{fields[:rackspace_ips].first}:8080/centrepoint"
                        }, 
                        "fail_on_cancel": {
                            "description": "If The User Declines The Action, The Composition Will Fail", 
                            "required": false, 
                            "type": "Boolean", 
                            "value": false
                        }
                    }, 
                    "position": 6, 
                    "sources": [], 
                    "task_id": 23, 
                    "updated_at": "2012-10-04T15:40:25+00:00" 
                }, 
                {
                    "composition_id": 15, 
                    "created_at": "2012-10-01T16:02:47+00:00", 
                    "id": 55, 
                    "is_from_parent": true, 
                    "name": "rackspace deprovision", 
                    "options": {}, 
                    "position": 7, 
                    "sources": [], 
                    "task_id": 8, 
                    "updated_at": "2012-10-04T16:04:56+00:00" 
                }
            ], 
            "created_at": "2012-09-19T09:05:11+00:00", 
            "description": "An example of using composition templates and sources for variable injection", 
            "fail_on_cancel": false, 
            "fail_type": null, 
            "fail_type_id": null, 
            "id": 15, 
            "name": "Centrepoint Rackspace Development", 
            "on_error_composition": null, 
            "on_error_id": null, 
            "parent": "Centrepoint Rackspace", 
            "parent_id": 14, 
            "reuse_agent": true, 
            "schedule": "", 
            "sources": [
                {
                    "created_at": "2012-09-17T16:57:44+00:00", 
                    "description": "Rackspace development keys", 
                    "id": 5, 
                    "name": "rackspace development", 
                    "options": {
                        "api_key": "myapikey", 
                        "username": "rackspace"
                    }, 
                    "project_id": 0, 
                    "source_type": "rackspace", 
                    "source_type_id": 3, 
                    "updated_at": "2012-10-01T16:02:47+00:00", 
                    "uri": "some uri"
                }
            ], 
            "state": null, 
            "tags": [], 
            "tasks": [
                {
                    "code": null, 
                    "command": "/jenkinsplugin/build", 
                    "created_at": "2012-10-01T16:02:35+00:00", 
                    "dependencies": [
                        {
                            "name": "jenkins", 
                            "source": "http://rubygems.org/", 
                            "version": "0.6.8"
                        }
                    ], 
                    "description": "Run A Set Of Work Steps In Jenkins, The Job Will Be Created If It Doesn't Exist<br>[host] Hostname Of The Jenkins Server<br>[port] Port Jenkins Is Running On<br>[username] Username for jenkins server<br>[password] Password for jenkins server<br>[job] Name Of The Jenkins Job<br>[web_path] context path of the jenkins server<br>[scm_url] Url Of The Source Code Repository<br>[steps] Set Of Steps To Be Executed By Jenkins", 
                    "id": 4, 
                    "image": null, 
                    "klass": "MaestroDev::JenkinsWorker", 
                    "language": "ruby", 
                    "name": "jenkins plugin", 
                    "options": {
                        "host": {
                            "required": true, 
                            "type": "String", 
                            "value": "localhost"
                        }, 
                        "job": {
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "label_axes": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "override_existing": {
                            "required": true, 
                            "type": "Boolean", 
                            "value": false
                        }, 
                        "password": {
                            "required": false, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "port": {
                            "required": false, 
                            "type": "Integer", 
                            "value": 8080
                        }, 
                        "scm_url": {
                            "required": false, 
                            "type": "Url", 
                            "value": ""
                        }, 
                        "steps": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "use_ssl": {
                            "required": true, 
                            "type": "Boolean", 
                            "value": false
                        }, 
                        "user_defined_axes": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "username": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "web_path": {
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }
                    }, 
                    "plugin_id": 4, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Build"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-01T16:02:35+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/rackspace/provision", 
                    "created_at": "2012-10-01T16:02:37+00:00", 
                    "dependencies": [
                        {
                            "name": "fog", 
                            "source": "http://rubygems.org/", 
                            "version": "1.6.0"
                        }
                    ], 
                    "description": "Provision servers in Rackspace.<br>[username] Rackspace username<br>[api_key] Rackspace api key<br>[image_id] id of the image to use (ie. 49 for Ubuntu)<br>[flavor_id] Flavor id that defines ram, cpu,...<br>[name] name of the started vm<br>[number_of_vms] number of instances to start<br>[ssh_user] username to use for ssh connection<br>[ssh_commands] commands to execute in the server once it is started<br>[public_key] ssh public key to copy to the server<br>[private_key] ssh private key content to use to connect to the server<br>[private_key_path] ssh private key path in the agent to use to connect to the server (instead of private_key content)", 
                    "id": 7, 
                    "image": "rackspace.png", 
                    "klass": "MaestroDev::RackspaceWorker", 
                    "language": "ruby", 
                    "name": "rackspace provision", 
                    "options": {
                        "api_key": {
                            "required": true, 
                            "type": "Password", 
                            "value": null
                        }, 
                        "version": {
                          "description": "API version to use: v1 or v2 for Open Cloud Servers",
                          "required": false,
                          "type": "String",
                          "value": "v2"
                        },
                        "auth_url": {
                            "required": false, 
                            "type": "String", 
                            "value": null
                        }, 
                        "flavor_id": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 1
                        }, 
                        "image_id": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 49
                        }, 
                        "name": {
                            "required": false, 
                            "type": "String", 
                            "value": null
                        }, 
                        "number_of_vms": {
                            "required": true, 
                            "type": "Integer", 
                            "value": 1
                        }, 
                        "private_key": {
                            "required": false, 
                            "type": "String", 
                            "value": null
                        }, 
                        "private_key_path": {
                            "required": false, 
                            "type": "String", 
                            "value": null
                        }, 
                        "public_key": {
                            "required": false, 
                            "type": "String", 
                            "value": null
                        }, 
                        "ssh_commands": {
                            "required": false, 
                            "type": "Array", 
                            "value": []
                        }, 
                        "ssh_user": {
                            "required": false, 
                            "type": "String", 
                            "value": "root"
                        }, 
                        "username": {
                            "required": true, 
                            "type": "String", 
                            "value": null
                        }
                    }, 
                    "plugin_id": 7, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Cloud"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-04T16:04:56+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/rackspace/deprovision", 
                    "created_at": "2012-10-01T16:02:37+00:00", 
                    "dependencies": [
                        {
                            "name": "fog", 
                            "source": "http://rubygems.org/", 
                            "version": "1.6.0"
                        }
                    ], 
                    "description": "Deprovision servers in Rackspace. Deprovisions all servers started in a previous provision tasks.", 
                    "id": 8, 
                    "image": "rackspace.png", 
                    "klass": "MaestroDev::RackspaceWorker", 
                    "language": "ruby", 
                    "name": "rackspace deprovision", 
                    "options": {}, 
                    "plugin_id": 8, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Cloud"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-04T16:04:56+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/confirmation/work", 
                    "created_at": "2011-08-04T22:31:28+00:00", 
                    "dependencies": null, 
                    "description": "Allows User Confirmation Before Continuing, A Notification Will Be Displayed Below. Confirming Will Allow The Composition To Continue, Rejecting Will Cancel The Composition", 
                    "id": 23, 
                    "image": null, 
                    "klass": null, 
                    "language": null, 
                    "name": "confirmation", 
                    "options": {
                        "body": {
                            "description": "The String To Be Displayed In The Action Pane", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "fail_on_cancel": {
                            "description": "If The User Declines The Action, The Composition Will Fail", 
                            "required": false, 
                            "type": "Boolean", 
                            "value": false
                        }
                    }, 
                    "plugin_id": null, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Actions"
                    ], 
                    "type": "confirmation", 
                    "updated_at": "2012-10-02T22:28:54+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/nexus/wget_latest_snapshot", 
                    "created_at": "2011-08-04T22:31:29+00:00", 
                    "dependencies": null, 
                    "description": "Downloads The Latest Snapshot From A Maven Artifact Repository Using Wget", 
                    "id": 31, 
                    "image": null, 
                    "klass": null, 
                    "language": null, 
                    "name": "wget latest snapshot", 
                    "options": {
                        "packaging": {
                            "description": "Artifact Packaging Type ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "password": {
                            "description": "User Password For Authentication ", 
                            "required": true, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "path": {
                            "description": "Local Location For File Download ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "url": {
                            "description": "Remote Repository Location Of The Project Containing The Artifact", 
                            "required": true, 
                            "type": "Url", 
                            "value": ""
                        }, 
                        "username": {
                            "description": "Repository User", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }
                    }, 
                    "plugin_id": null, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Deploy"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-02T22:29:01+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/tomcat/deploy", 
                    "created_at": "2011-08-04T22:31:29+00:00", 
                    "dependencies": null, 
                    "description": "Deploy A Web Application To Tomcat With A Given Context", 
                    "id": 32, 
                    "image": null, 
                    "klass": null, 
                    "language": null, 
                    "name": "tomcat deploy", 
                    "options": {
                        "host": {
                            "description": "Hostname Of The Server Running Tomcat", 
                            "required": true, 
                            "type": "String", 
                            "value": "localhost"
                        }, 
                        "password": {
                            "description": "Tomcat Manager Password ", 
                            "required": true, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "path": {
                            "description": "Location Of The WAR File ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "port": {
                            "description": "Port Tomcat Is Bound To", 
                            "required": true, 
                            "type": "Integer", 
                            "value": 8080
                        }, 
                        "user": {
                            "description": "Tomcat User ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "web_path": {
                            "description": "Context Path Of The Manager Application ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }
                    }, 
                    "plugin_id": null, 
                    "pom": null, 
                    "position": 1, 
                    "tool_name": [
                        "Deploy"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-02T22:29:02+00:00" 
                }, 
                {
                    "code": null, 
                    "command": "/ping/ping_http", 
                    "created_at": "2011-08-22T22:57:59+00:00", 
                    "dependencies": null, 
                    "description": "Ping A Webserver At A Specified Context Path ", 
                    "id": 40, 
                    "image": null, 
                    "klass": null, 
                    "language": null, 
                    "name": "HTTP ping", 
                    "options": {
                        "host": {
                            "description": "Hostname Of The Webserver ", 
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "open_timeout": {
                            "description": "Time To Wait For Connection Openning", 
                            "required": false, 
                            "type": "Integer", 
                            "value": 60
                        }, 
                        "ping_password": {
                            "description": "Password For Application User ", 
                            "required": false, 
                            "type": "Password", 
                            "value": ""
                        }, 
                        "ping_user": {
                            "description": "Username For Application Server ", 
                            "required": false, 
                            "type": "String", 
                            "value": ""
                        }, 
                        "port": {
                            "description": "Port Webserver Is Bound To ", 
                            "required": true, 
                            "type": "Integer", 
                            "value": null
                        }, 
                        "timeout": {
                            "description": "Time To Wait For Connection Response ", 
                            "required": false, 
                            "type": "Integer", 
                            "value": 60
                        }, 
                        "web_path": {
                            "description": "Context Path On The Webserver ", 
                            "required": true, 
                            "type": "String", 
                            "value": ""
                        }
                    }, 
                    "plugin_id": null, 
                    "pom": null, 
                    "position": 5, 
                    "tool_name": [
                        "Deploy"
                    ], 
                    "type": "remote", 
                    "updated_at": "2012-10-02T22:29:07+00:00" 
                }
            ], 
            "updated_at": "2012-10-01T16:02:47+00:00" 
        }
    ], 
    "created_at": "2011-09-16T00:26:06+02:00", 
    "description": "Centrepoint is a basic but useful application that sets up a dashboard of project information from Maven, Archiva and Continuum.", 
    "home_url": "https://github.com/brettporter/centrepoint", 
    "id": 2, 
    "name": "Centrepoint", 
    "scm_url": "https://github.com/brettporter/centrepoint.git", 
    "tags": null, 
    "updated_at": "2012-09-17T18:48:06+02:00"
}
